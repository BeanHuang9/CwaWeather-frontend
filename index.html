<!DOCTYPE html>
<html lang="zh-TW">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>è±†å­æ°£è±¡ç«™ Â· Space HUD</title>
  <link rel="icon" type="image/png" href="./icon-v2.png">
  <link rel="apple-touch-icon" href="./icon-v2.png">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Zen+Maru+Gothic:wght@400;700;900&display=swap" rel="stylesheet">

  <style>
    :root {
      --purple-deep: #080c19;
      --purple-mid: #191f33;
      --hud-line: rgba(200, 214, 255, 0.45);
      --card-bg: rgba(15, 20, 40, 0.72);
      --card-border: rgba(255, 255, 255, 0.30);
      --text-light: #f4f6ff;
      --text-dim: #b4b9e4;
      --accent-yellow: #ffe7a6;
      --accent-blue: #9ed3ff;
      --accent-pink: #ffb7e1;
      --accent-neon: #6cf6ff;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      -webkit-tap-highlight-color: transparent;
      font-family: 'Zen Maru Gothic', system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
    }

    /* === èƒŒæ™¯ï¼šæ˜Ÿé›² + HUD ç¶²æ ¼ === */
    body {
      background-color: var(--purple-deep);

        background-image:
            radial-gradient(circle at 20% 30%, rgba(255,182,193,0.18) 0%, transparent 60%),
            radial-gradient(circle at 80% 20%, rgba(173,216,230,0.22) 0%, transparent 65%),
            radial-gradient(circle at 50% 75%, rgba(221,160,221,0.20) 0%, transparent 60%),
            radial-gradient(circle at 70% 60%, rgba(255,228,181,0.18) 0%, transparent 60%),
            url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='240' height='240'><circle cx='30' cy='40' r='1.8' fill='white' opacity='0.65'/><circle cx='120' cy='70' r='1.4' fill='white' opacity='0.55'/><circle cx='200' cy='110' r='1.6' fill='white' opacity='0.60'/><circle cx='150' cy='180' r='1.1' fill='white' opacity='0.45'/><circle cx='60' cy='150' r='1.3' fill='white' opacity='0.55'/></svg>");

        background-size: cover, cover, cover, cover, 240px 240px;
        background-repeat: repeat;
        background-attachment: fixed;
    }

    /* å‰æ™¯ HUD æ ¼ç·š ï¼‹ æ˜Ÿå¡µå±¤ */
    .star-layer {
  pointer-events: none;
  position: fixed;
  inset: 0;
  z-index: 0;

  background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='240' height='240'><circle cx='30' cy='40' r='1.7' fill='white' opacity='0.75'/><circle cx='120' cy='80' r='1.3' fill='white' opacity='0.55'/><circle cx='200' cy='120' r='1.5' fill='white' opacity='0.60'/><circle cx='150' cy='180' r='1.1' fill='white' opacity='0.45'/><circle cx='60' cy='150' r='1.3' fill='white' opacity='0.55'/><circle cx='180' cy='30' r='1.2' fill='white' opacity='0.50'/></svg>");

  background-size: 240px 240px;
  background-repeat: repeat;

     opacity: 0.45;
  animation: star-drift 48s linear infinite;
}

@keyframes star-drift {
  0% { background-position: 0 0; }
  100% { background-position: 240px 240px; }
}


    /* === å¤ªç©º Loading === */
    .loading-screen {
      position: fixed;
      inset: 0;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      z-index: 9999;
      background: radial-gradient(circle at 20% 10%, rgba(255, 255, 255, 0.05) 0, transparent 55%),
        radial-gradient(circle at 70% 80%, rgba(255, 255, 255, 0.06) 0, transparent 60%),
        #060814dd;
      backdrop-filter: blur(8px);
    }

    .loading-icon {
      font-size: 4.2rem;
      animation: float 2.4s ease-in-out infinite;
      text-shadow:
        0 0 16px rgba(255, 255, 255, 0.8),
        0 0 30px rgba(108, 246, 255, 0.8);
      filter: drop-shadow(0 0 22px rgba(120, 200, 255, 0.9));
    }

    .loading-text {
      margin-top: 18px;
      font-size: 1.05rem;
      color: #f0f2ff;
      font-weight: 700;
      letter-spacing: 0.06em;
      text-shadow: 0 0 10px rgba(140, 160, 255, 0.8);
    }

    @keyframes float {
      0%,
      100% {
        transform: translateY(0);
      }

      50% {
        transform: translateY(-10px);
      }
    }

    /* === Status Bar === */
    .status-bar {
      position: sticky;
      top: 0;
      z-index: 50;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 14px 20px;
      background: linear-gradient(to bottom, rgba(5, 7, 16, 0.85), rgba(5, 7, 16, 0.4));
      backdrop-filter: blur(16px);
      border-bottom: 1px solid rgba(190, 207, 255, 0.35);
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.6);
    }

    .location-pill {
      background: radial-gradient(circle at 20% 0%, rgba(255, 255, 255, 0.7), rgba(255, 255, 255, 0.1));
      color: #141520;
      padding: 6px 16px;
      border-radius: 999px;
      font-weight: 800;
      font-size: 0.9rem;
      border: 1px solid rgba(255, 255, 255, 0.8);
      box-shadow:
        0 0 0 1px rgba(255, 255, 255, 0.4),
        0 8px 20px rgba(0, 0, 0, 0.6);
      display: inline-flex;
      align-items: center;
      gap: 4px;
    }

    .location-pill::before {
      content: "â—";
      color: #ff5c71;
      font-size: 0.7rem;
      filter: drop-shadow(0 0 7px rgba(255, 92, 113, 0.9));
    }

    .update-pill {
      font-size: 0.8rem;
      color: var(--text-dim);
      padding: 4px 12px;
      border-radius: 999px;
      background: rgba(12, 18, 32, 0.8);
      border: 1px solid rgba(180, 192, 255, 0.7);
      box-shadow: 0 0 14px rgba(120, 160, 255, 0.6);
    }

    /* === ä¸»å®¹å™¨ === */
    .container {
      position: relative;
      z-index: 1;
      padding: 44px 20px 20px;
      max-width: 720px;
      margin: 0 auto;
    }

    /* === HUD ä¸»å¡ç‰‡ === */
    .hero-card {
      position: relative;
      background: radial-gradient(circle at 20% 0%, rgba(255, 255, 255, 0.16), transparent 55%),
        radial-gradient(circle at 80% 100%, rgba(144, 211, 255, 0.22), transparent 60%),
        var(--card-bg);
      border-radius: 28px;
      padding: 30px 26px 26px;
      text-align: center;
      margin-bottom: 30px;
      border: 1px solid var(--card-border);
      box-shadow:
        0 0 18px rgba(125, 175, 255, 0.30),
    0 0 40px rgba(120, 80, 255, 0.28);
      overflow: hidden;
    }

    /* å…§éƒ¨ HUD ç·šæ¡† */
    .hero-card::before {
      content: "";
      position: absolute;
      inset: 2px;
      border-radius: 24px;
      border: 1px solid rgba(255, 255, 255, 0.35);
      opacity: 0.45;
      pointer-events: none;
    }

    .hero-card::after {
      content: "";
      position: absolute;
      inset: -40%;
      background: radial-gradient(circle at 50% 0%, rgba(255, 255, 255, 0.12), transparent 70%);
      opacity: 0.4;
      mix-blend-mode: screen;
      pointer-events: none;
    }

    .hero-period {
        position: absolute;
        top: 28px;                  /* â­ æé«˜ä½ç½®ï¼Œé¿å…è¢«å£“ä½ */
        left: 50%;
        transform: translateX(-50%);
        background: var(--accent-yellow);
        color: #3b3530;
        padding: 4px 20px;
        font-weight: 700;
        border-radius: 16px;
        font-size: 0.9rem;
        border: 2px solid white;
        box-shadow: 0 4px 15px rgba(0,0,0,0.25),
                    0 0 12px rgba(255,255,200,0.4);
        z-index: 10;                 /* â­ ä¿è­‰æ°¸é åœ¨æœ€ä¸Šå±¤ */
        }


    .hero-temp-container {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 18px;
      margin: 24px 0 12px;
    }

    .hero-icon {
      font-size: 4.4rem;
      text-shadow:
        0 0 22px rgba(255, 255, 255, 0.9),
        0 0 40px rgba(255, 215, 160, 0.9);
      filter: drop-shadow(0 0 26px rgba(255, 200, 120, 0.9));
      animation: float 3.2s ease-in-out infinite;
    }

    .hero-temp {
      font-size: 4.2rem;
      font-weight: 900;
      letter-spacing: 0.04em;
      color: var(--text-light);
      text-shadow:
        0 0 16px rgba(255, 255, 255, 0.75),
        0 0 40px rgba(140, 200, 255, 0.9);
    }

    .hero-desc {
      margin-top: 6px;
      font-size: 1.2rem;
      color: var(--text-dim);
      letter-spacing: 0.08em;
    }

    /* === å»ºè­°å€ï¼šå° HUD å¡ç‰‡ === */
    .advice-grid {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 16px;
      margin-top: 26px;
      padding-top: 16px;
      border-top: 1px dashed rgba(190, 205, 255, 0.55);
    }

    .advice-item {
      position: relative;
      background: radial-gradient(circle at 20% 0%, rgba(255, 255, 255, 0.18), transparent 65%),
        rgba(5, 12, 30, 0.9);
      border-radius: 20px;
      padding: 12px 10px;
      border: 1px solid rgba(200, 212, 255, 0.6);
      text-align: center;
      box-shadow:
        0 0 10px rgba(120, 180, 255, 0.35),
    0 10px 20px rgba(0, 0, 0, 0.55);
      overflow: hidden;
    }

    .advice-item::before {
      content: "";
      position: absolute;
      inset: 1px;
      border-radius: 18px;
      border: 1px solid rgba(255, 255, 255, 0.18);
      opacity: 0.9;
      pointer-events: none;
    }

    .advice-icon {
      font-size: 2.1rem;
      margin-bottom: 4px;
      text-shadow:
        0 0 8px rgba(255,255,255,0.6),
    0 0 18px rgba(108,246,255,0.7);
    }

    .advice-text {
      font-size: 1.1rem;
      font-weight: 700;
      color: var(--text-light);
    }

    .advice-sub {
      margin-top: 2px;
      font-size: 0.7rem;
      color: rgba(210, 220, 255, 0.85);
    }

    /* === ç¨å¾Œé å ±ï¼ˆä¸‹æ–¹ HUD å¡ç‰‡ï¼‰ === */
    .section-title {
      font-size: 1.2rem;
      font-weight: 900;
      color: var(--text-light);
      margin-bottom: 12px;
      letter-spacing: 0.12em;
      text-shadow: 0 0 14px rgba(200, 220, 255, 0.9);
    }

    .section-title::before {
      content: "â–Œ";
      margin-right: 6px;
      color: var(--accent-neon);
      text-shadow: 0 0 14px rgba(108, 246, 255, 0.9);
    }

    .scroll-container {
      display: flex;
      justify-content: space-around;
      gap: 16px;
      overflow-x: auto;
      padding: 12px 2px;
      scrollbar-width: none;
    }

    .scroll-container::-webkit-scrollbar {
      display: none;
    }

    .mini-card {
      position: relative;
      width: 30%;
      min-width: 170px;
      background: radial-gradient(circle at 20% 0%, rgba(255, 255, 255, 0.14), transparent 65%),
        rgba(8, 14, 32, 0.92);
      border-radius: 22px;
      padding: 18px 16px 16px;
      border: 1px solid rgba(200, 210, 255, 0.6);
      text-align: center;
      flex-shrink: 0;
      box-shadow:
        0 0 12px rgba(125, 190, 255, 0.35),
        0 5px 15px rgba(0, 0, 0, 0.55);
      backdrop-filter: blur(12px);
      overflow: hidden;
    }

    .mini-card::before {
      content: "";
      position: absolute;
      inset: 1px;
      border-radius: 20px;
      border: 1px solid rgba(255, 255, 255, 0.18);
      opacity: 0.9;
      pointer-events: none;
    }

    .mini-time {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 4px 14px;
      background: rgba(255, 255, 255, 0.7);
      color: #242026;
      border-radius: 999px;
      font-weight: 700;
      font-size: 0.85rem;
      margin-bottom: 8px;
      box-shadow: 0 0 12px rgba(255, 255, 255, 0.6);
    }

    .mini-icon {
      font-size: 2.3rem;
      text-shadow:
        0 0 12px rgba(255, 255, 255, 0.8),
        0 0 26px rgba(108, 246, 255, 0.95);
    }

    .mini-temp {
      margin-top: 8px;
      font-size: 1.1rem;
      font-weight: 700;
      color: var(--text-light);
    }

    .mini-rain {
      margin-top: 6px;
      font-size: 0.78rem;
      color: rgba(210, 220, 255, 0.9);
    }

    /* å®‡å®™èªéŒ„å¡ç‰‡ç‰¹åŒ– */
    .quote-card {
      text-align: left;
      padding: 18px 18px 16px;
    }

    .quote-card .mini-time {
      background: linear-gradient(120deg, #fdf2c4, #ffd2f0);
      color: #262025;
    }

    .quote-text {
      margin-top: 6px;
      font-size: 0.95rem;
      color: #ffffff;
      line-height: 1.6;
      white-space: normal;
    }

    /* === RWD å°èª¿æ•´ === */
    @media (max-width: 480px) {
      .container {
        padding: 30px 14px 16px;
      }

      .hero-card {
        padding: 26px 18px 20px;
      }

      .hero-temp-container {
        gap: 10px;
      }

      .hero-temp {
        font-size: 3.6rem;
      }

      .hero-icon {
        font-size: 3.4rem;
      }

      .mini-card {
        min-width: 150px;
      }

       .scroll-container {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 12px;
    overflow-x: hidden;
    padding-right: 0;
  }

  /* å…©æ¬„å¡ç‰‡ */
  .mini-card {
    width: 100%;
    min-width: unset;
  }

  /* èªéŒ„å¡ç‰‡ â€” ä½”æ»¿æ•´è¡Œ */
  .quote-card {
    grid-column: 1 / -1; /* å…¨å¯¬ */
  }

    }
  </style>
</head>

<body>
  <!-- å‰æ™¯æ˜Ÿå¡µå±¤ -->
  <div class="star-layer"></div>

  <!-- Loading -->
  <div id="loading" class="loading-screen">
    <div class="loading-icon">ğŸ›°ï¸</div>
    <p class="loading-text">é›²æœµæ­£åœ¨é€£ä¸Šå®‡å®™æ°£è±¡ä¸­å¿ƒâ€¦</p>
  </div>

  <!-- Status Bar -->
  <div class="status-bar">
    <div class="location-pill">å°åŒ—</div>
    <div id="updateTime" class="update-pill">æ›´æ–°ä¸­...</div>
  </div>

  <!-- Main -->
  <div class="container" id="mainContent" style="display:none;">
    <div id="heroCard"></div>

    <h3 class="section-title">ç¨å¾Œé å ±</h3>
    <div class="scroll-container" id="futureForecasts"></div>
  </div>

  <script>
    const API_URL = "https://douzi-weather.zeabur.app/api/weather/taipei";

    // å®‡å®™èªéŒ„
    const quotes = [
        "ä½ ä¸æ˜¯èµ°æ…¢ï¼Œæ˜¯åœ°å¿ƒå¼•åŠ›ç‰¹åˆ¥é»ä½ ã€‚",
        "æ”¾å¿ƒï¼Œä½ ä¸æ˜¯æ²’æ•ˆç‡ï¼Œä½ æ˜¯åœ¨å®‡å®™çœé›»æ¨¡å¼ã€‚",
        "åˆ¥æ€¥ï¼Œæ˜Ÿæ˜Ÿä¹Ÿä¸æ˜¯æ¯å¤©éƒ½äº®ã€‚",
        "ä½ ä¸æ˜¯ç´¯ï¼Œä½ æ˜¯å®‡å®™å¿«æ²’é›»ï¼Œéœ€è¦æ’åº§ã€‚",
        "ä»Šå¤©çš„ä½ æ²’å•é¡Œï¼Œæ˜¯é€™é¡†æ˜Ÿçƒå•é¡Œæ¯”è¼ƒå¤šã€‚",
        "ä½ ä»¥ç‚ºä½ è¿·è·¯ï¼Ÿæ²’æœ‰ï¼Œä½ åªæ˜¯è‡ªç”±è»Œé“é‹è¡Œã€‚",
        "é€£é»‘æ´éƒ½æœƒç´¯ï¼Œä½ ç¾åœ¨é€™æ¨£å¾ˆæ­£å¸¸ã€‚",
        "åˆ¥è¦ºå¾—é€²åº¦æ…¢ï¼Œå®‡å®™è†¨è„¹ä¹Ÿä¸æ€¥ã€‚",
        "ä»Šå¤©ä¸æƒ³å‹•ï¼Ÿæˆ‘æ‡‚ï¼Œè¡Œæ˜Ÿä¹Ÿå›ºå®šåœ¨åŸåœ°ã€‚",
        "ä½ ä¸æ˜¯æ²’å‹•åŠ›ï¼Œä½ åªæ˜¯å¤ªç©ºèˆ¹æš–æ©Ÿæ¯”è¼ƒä¹…ã€‚",
        "åˆ¥æ€•ï¼Œä½ æ²’è½å¾Œï¼Œä½ åªæ˜¯æ™‚ç©ºå·®ã€‚",
        "ç´¯ï¼Ÿåˆç†ï¼Œä½ æ­£åœ¨æ‰¿è¼‰å€‹äººå®‡å®™ã€‚",
        "ä½ æ²’æœ‰è®Šèƒ–ï¼Œæ˜¯å®‡å®™è†¨è„¹æ¯”ä½ å¿«ã€‚",
        "ä½ æ²’æœ‰æ‹–å»¶ï¼Œä½ æ˜¯åœ¨ç­‰å¾…æœ€å¥½çš„ç™¼å°„çª—å£ã€‚",
        "åˆ¥è¦ºå¾—è‡ªå·±æ¸ºå°ï¼Œä½ æ¯”äº”æˆæ˜Ÿæ˜Ÿéƒ½äº®ã€‚",
        "ä½ ä¸æ˜¯æç ¸ï¼Œæ˜¯å®‡å®™çµ¦ä½ åŠ æˆ²ã€‚",
        "ä½ å¾ˆæ£’ï¼Œä¸æ˜¯æˆ‘èª‡å¼µï¼Œæ˜¯å®‡å®™å¯©æ ¸é€šéäº†ã€‚",
        "åˆ¥æ…Œï¼Œä½ çš„å®‡å®™ Wi-Fi å°±æ˜¯ä¸ç©©ï¼Œé‡é€£ä¸€ä¸‹ã€‚",
        "ä½ ä¸æ˜¯æ²’æ–¹å‘ï¼Œæ˜¯å®‡å®™æŒ‡å—é‡æ­£åœ¨æ›´æ–°ã€‚",
        "å…ˆä¼‘æ¯ï¼Œé€£å½—æ˜Ÿéƒ½æœƒåœä¸€ä¸‹æ–¹å‘å°é½Šã€‚",
        "ä½ ä¸æ˜¯æ•…éšœï¼Œä½ æ˜¯é€²å…¥å®‰å…¨æ¨¡å¼ä¿è­·è‡ªå·±ã€‚",
        "ä½ å“ªè£¡ä¸å¥½äº†ï¼Ÿåªæœ‰å¿ƒå¤ªå–„è‰¯ã€‚",
        "åˆ¥æ€¥è‘—ç‚ºé›£è‡ªå·±ï¼Œå®‡å®™æ²’åœ¨è¶•ä½ ã€‚",
        "ä½ ä¸æ˜¯é¸æ“‡éšœç¤™ï¼Œæ˜¯å¹³è¡Œå®‡å®™å¤ªå¤šã€‚",
        "ä½ ä¸æ˜¯æ²’å¤©ä»½ï¼Œä½ åªæ˜¯æ˜Ÿå¡µæ¯”è¼ƒå®³ç¾ã€‚",
        "åˆ¥è¦ºå¾—ä½ ä¸é…ï¼Œä½ æ˜¯é™é‡ç‰ˆå®‡å®™ç”¢ç‰©ã€‚",
        "ä½ æ²’æœ‰è®Šæ…¢ï¼Œæ˜¯æ™‚é–“æ›²ç‡å½±éŸ¿çš„ã€‚",
        "ä»Šå¤©å¿ƒæƒ…å·®ï¼Ÿæ­£å¸¸ï¼Œäººé¡æƒ…ç·’æ¯”é»‘æ´é‚„æ·±ã€‚",
        "ä½ ä¸æ˜¯æ‡¶ï¼Œæ˜¯ä¿æŒèƒ½é‡æ•ˆç‡ã€‚",
        "ä½ å·²ç¶“å¤ åŠªåŠ›äº†ï¼Œä¸ç„¶æ˜Ÿæ˜Ÿæ€éº¼éƒ½ç«™ä½ é‚£é‚Šï¼Ÿ",
        "åˆ¥çœ‹ä½è‡ªå·±ï¼Œä½ æ¯”ä½ æƒ³åƒçš„æ›´æœ‰å¼•åŠ›ã€‚",
        "ä½ ä¸æ˜¯å¤±çœ ï¼Œä½ çš„è…¦åœ¨è·Ÿå®‡å®™åŒæ­¥æ™‚é–“ã€‚",
        "ä½ ä¸æ˜¯å¥‡æ€ªï¼Œä½ æ˜¯ç¨€æœ‰å¤©é«”ã€‚",
        "æ¯å¤©é†’ä¾†éƒ½é€™éº¼å¯æ„›ï¼Ÿå®‡å®™æ‡‰è©²å‡ä½ ç­‰ç´šã€‚",
        "ä½ ä¸æ˜¯æ²’ç”¨ï¼Œä½ æ˜¯åŠŸèƒ½å¤ªå…ˆé€²ï¼Œåœ°çƒè¦æ ¼ä¸æ”¯æ´ã€‚",
        "åˆ¥æ‡·ç–‘ï¼Œå®‡å®™çœŸçš„æœ‰å·å·åå¿ƒä½ ã€‚",
        "ä½ åŠªåŠ›çš„æ¨£å­ï¼Œæ¯”æµæ˜Ÿé‚„å¯æ„›ã€‚",
        "ä½ ç¾åœ¨è¦ºå¾—æ··äº‚ï¼Ÿæ˜Ÿé›²å°±æ˜¯é€™æ¨£èª•ç”Ÿæ˜Ÿæ˜Ÿçš„ã€‚",
        "ä½ ä¸æ˜¯ä¸è¡Œï¼Œåªæ˜¯ä»Šå¤©é‡åŠ›åå¼·ã€‚",
        "å¿ƒç´¯ï¼Ÿæ­£å¸¸ï¼Œæ˜Ÿé«”éƒ½æœ‰ç£æš´æœŸã€‚",
        "ä½ ä¸éœ€è¦æ¯”åˆ¥äººå¼·ï¼Œä½ æœ¬ä¾†å°±å¾ˆäº®ã€‚",
        "ä½ ç¾åœ¨çš„ç‹€æ…‹ï¼Ÿåƒå®‡å®™è†¨è„¹â”€â”€æ…¢ä½†ç„¡å¯é˜»æ“‹ã€‚",
        "ä½ ä¸æ˜¯æ²’åšå¥½ï¼Œæ˜¯å®‡å®™æƒ³è®“ä½ èµ°æ›´å¥½çš„ç‰ˆæœ¬ã€‚",
        "ä½ ä»¥ç‚ºä½ æ’ä¸ä½ï¼Ÿæ‹œè¨—ï¼Œä½ å¯æ˜¯æ˜Ÿå¡µçµ„åˆçš„é«˜éšç”Ÿå‘½é«”ã€‚",
        "ä½ è¦ºå¾—äº‚ï¼Ÿå®‡å®™å‰µç”ŸåˆæœŸä¹Ÿäº‚å¾—è·Ÿä»€éº¼ä¸€æ¨£ã€‚",
        "ä»Šå¤©çš„ä½ æ²’æœ‰è™§å¾…å®‡å®™ï¼Œæ‰€ä»¥å®‡å®™ä¹Ÿä¸æœƒè™§å¾…ä½ ã€‚",
        "ä½ ä¸æ˜¯éº»ç…©ï¼Œä½ æ˜¯é‡åŠ›å ´å¤ªå¼·å¤§å®¶é éä¾†ã€‚",
        "ä½ å·²ç¶“å¾ˆå¥½äº†ï¼Œå†å¥½å°±è¦è¢«å®‡å®™å¾µå¬äº†ã€‚",
        "ä½ ç¾åœ¨çš„æ­¥ä¼å‰›å‰›å¥½ï¼Œå®‡å®™éƒ½èªª OKã€‚"
    ];


    function getWeatherIcon(weather) {
      if (!weather) return "â˜€ï¸";
      if (weather.includes("é›·")) return "â›ˆï¸";
      if (weather.includes("é›¨")) return "ğŸŒ§ï¸";
      if (weather.includes("å¤šé›²")) return "â›…";
      if (weather.includes("é™°")) return "â˜ï¸";
      if (weather.includes("æ™´")) return "â˜€ï¸";
      return "â˜€ï¸";
    }

    function getAdvice(rainProb, maxTemp) {
      const rainNumber = parseInt(rainProb, 10);
      const maxNumber = parseInt(maxTemp, 10);

      let rainIcon = "ğŸª";
      let rainText = "å¤ªç©ºæ°£è±¡è‰¯å¥½";

      if (!isNaN(rainNumber) && rainNumber > 30) {
        rainIcon = "ğŸŒ§ï¸";
        rainText = "å¯èƒ½æœ‰å®‡å®™é™æ°´";
      }

      let clothIcon = "ğŸ‘©â€ğŸš€";
      let clothText = "è‰™å…§é«”æ„Ÿèˆ’é©";

      if (!isNaN(maxNumber) && maxNumber >= 28) {
        clothIcon = "ğŸŒ";
        clothText = "é©åˆæ¸…çˆ½è¼•è£";
      } else if (!isNaN(maxNumber) && maxNumber <= 20) {
        clothIcon = "ğŸ§¥";
        clothText = "å¤–å¥—å¯ä»¥æº–å‚™å¥½";
      }

      return { rainIcon, rainText, clothIcon, clothText };
    }

    function getTimePeriod(startTime) {
      const hour = new Date(startTime).getHours();
      if (hour >= 5 && hour < 11) return "æ™¨å…‰";
      if (hour >= 11 && hour < 14) return "ç™½æ™";
      if (hour >= 14 && hour < 18) return "åˆå¾Œ";
      if (hour >= 18 && hour < 23) return "å¤œæ™š";
      return "æ·±å¤œ";
    }

    function renderWeather(data) {
      const forecasts = data.forecasts;
      const current = forecasts[0];
      const others = forecasts.slice(1);

      const max = parseInt(current.maxTemp, 10);
      const min = parseInt(current.minTemp, 10);

      let avgTemp = "--";
      if (!isNaN(max) && !isNaN(min)) {
        avgTemp = Math.round((max + min) / 2);
      } else if (!isNaN(max)) {
        avgTemp = max;
      } else if (!isNaN(min)) {
        avgTemp = min;
      }

      const advice = getAdvice(current.rain, current.maxTemp);
      const period = getTimePeriod(current.startTime);

      document.getElementById("heroCard").innerHTML = `
        <div class="hero-period">${period}</div>
            <div class="hero-card">


          <div class="hero-temp-container">
            <div class="hero-icon">${getWeatherIcon(current.weather)}</div>
            <div class="hero-temp">${avgTemp}Â°</div>
          </div>

          <div class="hero-desc">${current.weather}</div>

          <div class="advice-grid">
            <div class="advice-item">
              <div class="advice-icon">${advice.rainIcon}</div>
              <div class="advice-text">${advice.rainText}</div>
              <div class="advice-sub">é™é›¨ç‡ ${current.rain}</div>
            </div>
            <div class="advice-item">
              <div class="advice-icon">${advice.clothIcon}</div>
              <div class="advice-text">${advice.clothText}</div>
              <div class="advice-sub">æœ€é«˜æº« ${current.maxTemp}</div>
            </div>
          </div>
        </div>
      `;

      const container = document.getElementById("futureForecasts");
      container.innerHTML = "";

      const todayDate = new Date().getDate();

      others.forEach(f => {
        let p = getTimePeriod(f.startTime);
        const d = new Date(f.startTime);
        if (d.getDate() !== todayDate) p = "æ˜å¤©" + p;

        container.innerHTML += `
          <div class="mini-card">
            <div class="mini-time">${p}</div>
            <div class="mini-icon">${getWeatherIcon(f.weather)}</div>
            <div class="mini-temp">${f.minTemp}Â° - ${f.maxTemp}</div>
            <div class="mini-rain">ğŸ’§ ${f.rain}</div>
          </div>
        `;
      });

      // å®‡å®™èªéŒ„å¡ç‰‡
      const randomQuote = quotes[Math.floor(Math.random() * quotes.length)];
      container.innerHTML += `
        <div class="mini-card quote-card">
          <div class="mini-time">ğŸŒ  å®‡å®™èªéŒ„</div>
          <div class="quote-text">${randomQuote}</div>
        </div>
      `;

      // æ—¥æœŸé¡¯ç¤º
      const now = new Date();
      const m = now.getMonth() + 1;
      const d = now.getDate();
      const wd = ["é€±æ—¥", "é€±ä¸€", "é€±äºŒ", "é€±ä¸‰", "é€±å››", "é€±äº”", "é€±å…­"];
      document.getElementById("updateTime").textContent =
        `${m}æœˆ${d}æ—¥ ${wd[now.getDay()]}`;
    }

    async function fetchWeather() {
      try {
        const delay = new Promise(r => setTimeout(r, 1200));
        const fetcher = fetch(API_URL).then(res => res.json());
        const [_, json] = await Promise.all([delay, fetcher]);

        if (json.success) {
          renderWeather(json.data);
          document.getElementById("loading").style.display = "none";
          document.getElementById("mainContent").style.display = "block";
        } else {
          throw new Error("API Error");
        }
      } catch (e) {
        console.error(e);
        alert("å®‡å®™è¨Šè™Ÿè¢«å¤ªé™½é¢¨æ‰“æ–·äº†ï¼");
      }
    }

    document.addEventListener("DOMContentLoaded", fetchWeather);
  </script>
</body>

</html>
